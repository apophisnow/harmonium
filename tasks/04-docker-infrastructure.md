# Task 4: Docker Compose + Infrastructure

## Status: COMPLETE (generated by initial setup)
This task has been completed as part of the initial project generation.

## Files Created
- `docker-compose.yml` - All services (postgres, redis, server, client, nginx)
- `server/Dockerfile` - Multi-stage build with mediasoup native deps
- `client/Dockerfile` - Multi-stage build (Vite build -> nginx serve)
- `client/nginx.conf` - SPA fallback for client container
- `nginx/nginx.conf` - Reverse proxy (API, WebSocket, uploads, frontend)

## Service Details
- PostgreSQL 16 Alpine on port 5432 (user: discord, pass: discord, db: discord)
- Redis 7 Alpine on port 6379
- Server on port 3001 with UDP 40000-40100 for mediasoup
- Client served via nginx
- Top-level nginx reverse proxy on port 80

## Running
```bash
# Start all services
docker compose up -d

# View logs
docker compose logs -f server

# Just start DB and Redis for local dev
docker compose up -d postgres redis
```
